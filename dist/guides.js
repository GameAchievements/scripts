(()=>{var p=(s,t,r=".gas-list-entry")=>{let n={ps:{rgx:/playstation/gi},xbox:{rgx:/xbox/gi},steam:{rgx:/steam|pc|windows|mac|linux/gi}};return n.ps.rgx.test(s)&&(t=$(".gas-platform-psn",t).css("display","inherit").parents(r).prop("outerHTML")),n.steam.rgx.test(s)&&(t=$(".gas-platform-steam",t).css("display","inherit").parents(r).prop("outerHTML")),n.xbox.rgx.test(s)&&(t=$(".gas-platform-xbox",t).css("display","inherit").parents(r).prop("outerHTML")),t};var x=document.querySelector("meta[name=domain]")?.content;function y({listData:s,elemId:t,numKeysToReplace:r,textKeysToReplace:n}){let i=$(t).prop("outerHTML"),c=$(`${t} .gas-list`),m=$(`${t} .gas-list-empty`);if(s?.length){let g=$(".gas-list-entry",c).first();g.show(),i=g.prop("outerHTML"),g.hide(),c.html(g),s.forEach((o,d)=>{let e=i;e=e.replaceAll("{|idx|}",d+1),Object.entries(o).forEach(([a,l])=>{if(o.gameIconURL?.length&&!isSteamImage(o.gameIconURL)){let h=$(".gas-list-entry-cover-game",e);if(h.length){let f=`For achievement: ${achievementNameSlicer(o.achievementName)}`;e=showImageFromSrc(h.attr("alt",f).attr("title",f),o.gameIconURL)||e}}o.iconURL?.length&&!isSteamImage(o.iconURL)&&($entryImg=$(".gas-list-entry-cover",e),$entryImg.length&&o.iconURL?.length&&(e=showImageFromSrc($entryImg,o.iconURL)||e)),n.includes(a)?e=e.replaceAll(`{|${a}|}`,(a.endsWith("At")?gaDate(l):cleanupDoubleQuotes(l))||""):r.includes(a)?e=e.replaceAll(`{|${a}|}`,Math.round(l||0)):a==="platform"&&(e=p(l,e))}),c.append(e)})}else $(t).html(m),m.show();c.css("display","flex")}async function u(s,t=""){let r={};t.length&&(r.q=t);let i=await(await fetch(`https://${x}/api/guide/list${Object.keys(r)?.length?`?${new URLSearchParams(r).toString()}`:""}`)).json();$(`${s} .gas-list-results-info`).text((i?.count||0)+" result(s)"),y({listData:i.results,elemId:s,numKeysToReplace:["likes","comments"],textKeysToReplace:["id","name","author","description","achievementId","achievementName","profileId"]})}$().ready(async()=>{await auth0Bootstrap();let s="#gas-list-guides";setupListSearch(s,u),await u(s),$(".ga-loader-container").hide()});})();
